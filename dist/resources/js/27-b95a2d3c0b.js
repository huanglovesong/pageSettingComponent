(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{Bn43:function(e,t,a){},CN8t:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=u(a("Yz+Y")),n=u(a("iCc5")),i=u(a("V7oC")),s=u(a("FYw3")),o=u(a("mRg0")),r=u(a("q1tI"));u(a("17x9"));a("PrFZ");var c=a("i6OX"),d=u(c);function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){(0,n.default)(this,t);var a=(0,s.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));a.choose=function(e){a.setState({pathname:e},function(){a.props.history.push(e)})};var i=localStorage.getItem("shopInfo")?JSON.parse(localStorage.getItem("shopInfo")):{};return a.state={pathname:e.location.pathname,shopInfo:i},a}return(0,o.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.pathname,l=t.shopInfo;return r.default.createElement("div",null,3!==l.merInfoTemplates.visitType?r.default.createElement("div",{className:"footer-bg clearfix"},r.default.createElement("div",{className:"/"===a?"item active":"item",onClick:function(){e.choose("/")}},r.default.createElement(d.default,{glyph:c.home}),"首页"),r.default.createElement("div",{className:"/my"===a?"item active":"item",onClick:function(){e.choose("/my")}},r.default.createElement(d.default,{glyph:c.user}),"我的")):"")}}]),t}(r.default.Component);t.default=f},Fzi1:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,n=a("CN8t"),i=(l=n)&&l.__esModule?l:{default:l};t.default=i.default},L6I0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,n=a("P1qj"),i=(l=n)&&l.__esModule?l:{default:l};t.default=i.default},P1qj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,n,i=k(a("LajT")),s=k(a("BETb")),o=k(a("93ya")),r=k(a("QbLZ")),c=k(a("Kl5d")),d=k(a("Yz+Y")),u=k(a("iCc5")),f=k(a("V7oC")),m=k(a("FYw3")),p=k(a("mRg0"));a("BXRl"),a("JaZr"),a("wbnQ"),a("TttT");var h=k(a("q1tI")),g=a("MuoO"),v=(k(a("17x9")),k(a("Rnav"))),E=k(a("Fzi1")),y=a("i6OX"),N=k(y),b=k(a("GBY4"));function k(e){return e&&e.__esModule?e:{default:e}}a("Bn43");var w=(l=function(e){function t(e){(0,u.default)(this,t);var a=(0,m.default)(this,(t.__proto__||(0,d.default)(t)).call(this,e));n.call(a);(0,b.default)(e.location.search,!0).query.codeid;var l=localStorage.getItem("shopInfo")?JSON.parse(localStorage.getItem("shopInfo")):{};return a.state={banner:[],firstMenu:[],shopInfo:l,secondMenu:[],hotPro:[],backshow:!1},a}return(0,p.default)(t,e),(0,f.default)(t,[{key:"componentWillMount",value:function(){var e=this.state.shopInfo;this.props.dispatch({type:"home/getBanner",payload:{sysTemplateId:e.merInfoTemplates.templateId,locationType:"home",MerTemplateId:e.merInfoTemplates.id}}),this.props.dispatch({type:"list/getFirstMenu"}),this.getHotPro();var t=this.state.codeid||e.codeKey;if(t&&t.toLowerCase()===configs.chinaBank.toLowerCase()&&window.terminal){var a=window.versionCompare(window.terminal.appVersion,configs.chinaBankVision);this.setState({backshow:t.toLowerCase()===configs.chinaBank.toLowerCase()&&"-1"==a})}}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.props,l=e.home.getBanner,n=e.list,i=n.getFirstMenu,s=n.getsecondMenu,o=n.getHotPro;if(l!==a.home.getBanner){var r=l.code,d=l.data,u=l.message;"1000"===r?this.setState({banner:d.list}):c.default.info(u)}if(i!==a.list.getFirstMenu){var f=i.code,m=i.data,p=i.message;"1000"===f?(m.list.map(function(e){e.title=e.className}),this.setState({firstMenu:m.list},function(){m.list&&m.list[0]&&t.getsecondMenu(m.list[0].id)})):c.default.info(p)}if(s!==a.home.getsecondMenu){var h=s.code,g=s.data,v=s.message;"1000"===h?this.setState({secondMenu:g.list}):c.default.info(v)}if(o!==a.home.getHotPro){var E=o.code,y=o.data,N=o.message;"1000"===E?this.setState({hotPro:y.list}):c.default.info(N)}}},{key:"render",value:function(){for(var e=this,t=this.state,a=t.firstMenu,l=t.banner,n=(t.shopInfo,t.hotPro),c=t.secondMenu,d=(t.mid,t.backshow),u=[],f=0,m=a.length;f<m;f+=5)u.push(a.slice(f,f+5));return h.default.createElement("div",{className:"mian-bg"},h.default.createElement(v.default,(0,r.default)({},this.props,{myLoading:!(!this.props.loading.models.home&&!this.props.loading.models.list)})),d&&h.default.createElement("div",{className:"backtobank"},h.default.createElement("button",{className:"header-left",onClick:this.backbank},h.default.createElement(N.default,{glyph:y.back}),"返回")),h.default.createElement("div",{className:"banner-bg"},l&&l[0]?h.default.createElement(o.default,{autoplay:!0,infinite:!0},l.map(function(t,a){return h.default.createElement("li",{style:{width:"100%",height:"4.26rem"}},h.default.createElement("a",{key:a,onClick:function(){e.toBanner(t)},style:{display:"inline-block",width:"100%",height:"4.26rem"}},h.default.createElement("img",{src:t.bannerUrl,alt:"",className:"banner-img",style:{width:"100%",verticalAlign:"top"},onLoad:function(){window.dispatchEvent(new Event("resize"))}})))})):h.default.createElement("div",{className:"no-banner"},"暂无广告图片")),h.default.createElement("div",{className:"advantage"},h.default.createElement("span",null,h.default.createElement(N.default,{glyph:y.zpbz}),"正品保证"),h.default.createElement("span",null,h.default.createElement(N.default,{glyph:y.zxzk}),"专享折扣"),h.default.createElement("span",null,h.default.createElement(N.default,{glyph:y.jstk}),"急速到账"),h.default.createElement("span",null,h.default.createElement(N.default,{glyph:y.shwy}),"售后无忧")),h.default.createElement("div",{className:"first-bg"},u.length>0&&h.default.createElement(o.default,{autoplay:!0,infinite:!0},u.map(function(t,a){return h.default.createElement("ul",{className:"menu-ul clearfix"},t[0]&&t.map(function(t,a){if(a<5)return h.default.createElement("li",{key:a,onClick:function(){e.toList(t.id)},style:{height:"1.3rem"}},h.default.createElement("div",{className:"menu-img"},h.default.createElement("img",{src:t.iconPath})),h.default.createElement("div",{className:"menu-t"},t.className))}))}))),n[0]&&h.default.createElement("div",{className:"hot-pro"},h.default.createElement("div",{className:"title"},h.default.createElement("span",{className:"left"},"限时抢购"),h.default.createElement("span",{className:"right",onClick:function(){e.toList("active")}},"更多",h.default.createElement(N.default,{glyph:y.arrowRight}))),h.default.createElement("div",{className:"con clearfix"},h.default.createElement("ul",{style:{width:n.length>2?2.6*n.length+"rem":"100%",height:"3.1rem"}},n.map(function(t,a){return h.default.createElement("li",{key:a,onClick:function(){e.toDetail(t.childCategoryId,t.productId)}},h.default.createElement("div",{className:"menu-img"},h.default.createElement("img",{src:t.iconPath})),h.default.createElement("div",{className:"name"},t.productName),h.default.createElement("div",{className:"price"},h.default.createElement("small",null,"￥"),t.price,h.default.createElement("s",{className:"del-price"},"￥",t.faceValue)))})))),h.default.createElement("div",{className:"home-g-title"},h.default.createElement(s.default,{tabs:a,onChange:function(t){e.getsecondMenu(t.id)},renderTabBar:function(e){return h.default.createElement(s.default.DefaultTabBar,(0,r.default)({},e,{page:4}))}})),h.default.createElement("div",{className:"goods-main"},h.default.createElement("div",{className:"g-con"},h.default.createElement("ul",null,c&&c[0]?c.map(function(t,a){return h.default.createElement("li",{key:a,onClick:function(){e.toDetail(t.childCategoryId)}},h.default.createElement("div",{className:"left"},h.default.createElement("img",{src:t.iconPath}),t.cornerMark?h.default.createElement("div",{className:"sale-tips"},t.cornerMark):""),h.default.createElement("div",{className:"center"},h.default.createElement("div",{className:"name"},t.childCategoryName),h.default.createElement("div",{className:"price"},t.price,h.default.createElement("span",{className:"small"},"元起"),h.default.createElement("s",{className:"del-price"},t.faceValue,"元起"))),h.default.createElement(i.default,{className:"right"},"购买"))}):h.default.createElement("div",{className:"no-data"},"暂无数据")))),h.default.createElement(E.default,this.props))}}]),t}(h.default.Component),n=function(){var e=this;this.getsecondMenu=function(t){e.setState({mid:t},function(){e.props.dispatch({type:"list/getsecondMenu",payload:{categoryId:t}})})},this.toList=function(t){e.props.history.push("/list?mid="+t)},this.toDetail=function(t,a){e.props.history.push("/detail?gid="+t+(a?"&pid="+a:""))},this.toBanner=function(t){1===t.bannerType?window.location.href=t.linkurl:2===t.bannerType&&1===t.ifSkip&&e.props.history.push("/detail?gid="+t.childCategoryId+"&pid="+t.productId)},this.getHotPro=function(){var t=e.state.shopInfo;e.props.dispatch({type:"list/getHotPro",payload:{merInfoId:t.merInfoId,count:5}})},this.backbank=function(){try{document.addEventListener("deviceready",function(){window.c_plugins.merchantBridge.goToNative(function(){},function(e){alert(e.message||e||"网络错误，请检查网络连接")},{page:"0"})})}catch(e){alert(e)}}},l);t.default=(0,g.connect)(function(e){return(0,r.default)({},e)})(w)},PrFZ:function(e,t,a){}}]);