(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{ODBP:function(e,t,a){},iLZx:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,s=a("jCDo"),o=(l=s)&&l.__esModule?l:{default:l};t.default=o.default},jCDo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,s,o=M(a("LOOE")),i=M(a("QbLZ")),n=M(a("Kl5d")),u=M(a("gDS+")),r=M(a("Yz+Y")),d=M(a("iCc5")),c=M(a("V7oC")),f=M(a("FYw3")),h=M(a("mRg0"));a("jIel"),a("TttT");var m=M(a("q1tI")),g=a("MuoO");M(a("17x9"));a("ODBP");var p=M(a("Rnav")),v=a("i6OX"),L=M(v),E=M(a("Fzi1")),I=(M(a("1dND")),a("X4fA")),S=M(a("Upkh")),y=M(a("MG2k"));function M(e){return e&&e.__esModule?e:{default:e}}var N=(l=function(e){function t(e){(0,d.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));s.call(a);var l=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):{},o=localStorage.getItem("shopInfo")?JSON.parse(localStorage.getItem("shopInfo")):{};return a.state={userInfo:l,shopInfo:o,showMallLoginModal:!1,showLoginPageModal:!1,isOrderList:!1,isQuanList:!1},a}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=e.login.fuluusertoken;if(a!==t.login.fuluusertoken){var l=a.code,s=a.data,o=a.message;"1000"===l?(localStorage.setItem("userInfo",(0,u.default)(s)),this.loginSuccess(s)):n.default.fail(o)}}},{key:"render",value:function(){var e=this,t=this.state,a=t.userInfo,l=t.shopInfo,s=t.showMallLoginModal,n=t.showLoginPageModal;return m.default.createElement("div",{className:"my-bg"},m.default.createElement(p.default,(0,i.default)({},this.props,{jump:function(){e.props.history.goBack()}})),a&&a.fuluId||3==l.merInfoTemplates.visitType?m.default.createElement("div",{className:"banner"},m.default.createElement("div",{className:"head_img"},m.default.createElement(L.default,{glyph:v.user})),m.default.createElement("div",{className:"right-txt"},m.default.createElement("div",{className:"h1"},"我的"),m.default.createElement("div",{className:"h5"},"我的订单／售后"))):m.default.createElement("div",{className:"banner2"},m.default.createElement("div",{className:"head_img2"},m.default.createElement(L.default,{glyph:v.user})),m.default.createElement("div",{className:"to-login",onClick:this.toLogin},"点击登录")),m.default.createElement("div",{className:"list"},3!==l.vvisitType&&m.default.createElement("div",{className:"item",onClick:this.toOrderList},m.default.createElement(L.default,{glyph:v.qbdd}),"全部订单",m.default.createElement("div",{className:"right-icon"},m.default.createElement(o.default,{type:"right"}))),m.default.createElement("div",{className:"item",onClick:function(){e.toUrl("/service")}},m.default.createElement(L.default,{glyph:v.shfw}),"售后服务",m.default.createElement("div",{className:"right-icon"},m.default.createElement(o.default,{type:"right"}))),m.default.createElement("div",{className:"item",onClick:this.toQuanList},m.default.createElement(L.default,{glyph:v.quan}),"优惠券",m.default.createElement("div",{className:"right-icon"},m.default.createElement(o.default,{type:"right"})))),m.default.createElement(E.default,this.props),s&&m.default.createElement(S.default,{loginSuccess:this.loginSuccess,hideLoginModal:this.hideLoginModal}),n&&m.default.createElement(y.default,{loginSuccess:this.loginSuccess,hideLoginModal:this.hideLoginModal}))}}]),t}(m.default.Component),s=function(){var e=this;this.toUrl=function(t){e.props.history.push(t)},this.loginSuccess=function(t){e.hideLoginModal(),e.setState({userInfo:t}),e.state.isOrderList?e.toUrl("/orderList"):e.state.isQuanList&&e.toUrl("/mycoupons")},this.hideLoginModal=function(){e.setState({showMallLoginModal:!1,showLoginPageModal:!1})},this.toLogin=function(){e.setState({isOrderList:!1,isQuanList:!1},function(){(0,I.isLoginOrAuth)(e)})},this.toOrderList=function(){var t=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):"";t&&t.fuluToken?e.props.history.push("/orderList"):e.setState({isOrderList:!0},function(){(0,I.isLoginOrAuth)(e)})},this.toQuanList=function(){var t=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):"";t&&t.fuluToken?e.props.history.push("/mycoupons"):e.setState({isQuanList:!0},function(){(0,I.isLoginOrAuth)(e)})}},l);t.default=(0,g.connect)(function(e){return(0,i.default)({},e)})(N)}}]);