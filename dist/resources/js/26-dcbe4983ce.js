(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{ITHA:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,n=a("IVkC"),s=(l=n)&&l.__esModule?l:{default:l};t.default=s.default},IVkC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,n,s=v(a("LajT")),o=v(a("QbLZ")),i=v(a("Kl5d")),r=v(a("Yz+Y")),c=v(a("iCc5")),d=v(a("V7oC")),u=v(a("FYw3")),f=v(a("mRg0"));a("BXRl"),a("TttT");var m=v(a("q1tI")),p=a("MuoO"),h=(v(a("17x9")),v(a("Rnav"))),g=(v(a("i6OX")),v(a("GBY4")));function v(e){return e&&e.__esModule?e:{default:e}}a("RqDQ");var E=(l=function(e){function t(e){(0,c.default)(this,t);var a=(0,u.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));n.call(a);var l=localStorage.getItem("shopInfo")?JSON.parse(localStorage.getItem("shopInfo")):{},s=(0,g.default)(e.location.search,!0).query.mid;return a.state={mid:s,secondMenu:[],hotPro:[],secondTotal:-1,shopInfo:l,banner:[]},a}return(0,f.default)(t,e),(0,d.default)(t,[{key:"componentWillMount",value:function(){scrollTo(0,0);var e=this.state.mid;e?"active"===e?this.getHotPro():(this.getsecondMenu(e),this.getBanner(e)):this.props.history.push("/")}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=e.home.getBanner,l=e.list,n=l.getsecondMenu,s=l.getHotPro;if(n!==t.list.getsecondMenu){var o=n.code,r=n.data,c=n.message;"1000"===o?this.setState({secondMenu:r.list,secondTotal:r.list.length}):i.default.info(c)}if(s!==t.list.getHotPro){var d=s.code,u=s.data,f=s.message;"1000"===d?this.setState({hotPro:u.list}):i.default.info(f)}if(a!==t.home.getBanner){var m=a.code,p=a.data,h=a.message;"1000"===m?this.setState({banner:p.list}):i.default.info(h)}}},{key:"render",value:function(){var e=this,t=this.state,a=t.secondMenu,l=t.hotPro,n=t.mid,i=t.secondTotal,r=t.banner;return m.default.createElement("div",{className:"list-bg"},m.default.createElement(h.default,(0,o.default)({},this.props,{myLoading:!!this.props.loading.models.list})),r.length?m.default.createElement("div",{className:"list-banner",onClick:function(){e.toBanner(r[0])}},m.default.createElement("img",{src:r[0].bannerUrl})):"","active"===n?m.default.createElement("div",{className:"hot-list"},m.default.createElement("ul",null,l&&l[0]?l.map(function(t,a){return m.default.createElement("li",{key:a,onClick:function(){e.toDetail(t.childCategoryId,t.productId)}},m.default.createElement("div",{className:"left"},m.default.createElement("img",{src:t.iconPath})),m.default.createElement("div",{className:"center"},m.default.createElement("div",{className:"name"},t.productName),m.default.createElement("div",{className:"price"},t.price,m.default.createElement("span",{className:"small"},"元"),m.default.createElement("s",{className:"del-price"},t.faceValue,"元"))),m.default.createElement(s.default,{className:"right"},"马上抢"))}):"")):m.default.createElement("div",{className:"two-list"},m.default.createElement("ul",null,a&&a[0]?a.map(function(t,a){return m.default.createElement("li",{key:a,onClick:function(){e.toDetail(t.childCategoryId)}},m.default.createElement("div",{className:"left"},m.default.createElement("img",{src:t.iconPath}),t.cornerMark?m.default.createElement("div",{className:"sale-tips"},t.cornerMark):""),m.default.createElement("div",{className:"center"},m.default.createElement("div",{className:"name"},t.childCategoryName),m.default.createElement("div",{className:"price"},t.price,m.default.createElement("span",{className:"small"},"元起"),m.default.createElement("s",{className:"del-price"},t.faceValue,"元起"))),m.default.createElement(s.default,{className:"right"},"购买"))}):"")),0===i?m.default.createElement("div",{className:"noting"},m.default.createElement("span",null),"暂无数据"):"")}}]),t}(m.default.Component),n=function(){var e=this;this.getBanner=function(){var t=e.state,a=t.shopInfo,l=t.mid;e.props.dispatch({type:"home/getBanner",payload:{sysTemplateId:a.merInfoTemplates.templateId,locationType:"list",MerTemplateId:a.merInfoTemplates.id,categoryId:l}})},this.getHotPro=function(){var t=e.state.shopInfo;e.props.dispatch({type:"list/getHotPro",payload:{merInfoId:t.merInfoId,count:999}})},this.getsecondMenu=function(t){e.props.dispatch({type:"list/getsecondMenu",payload:{categoryId:t}})},this.toDetail=function(t,a){e.props.history.push("/detail?gid="+t+(a?"&pid="+a:""))},this.toBanner=function(t){1===t.bannerType?window.location.href=t.linkurl:2===t.bannerType&&1===t.ifSkip&&e.props.history.push("/detail?gid="+t.childCategoryId+"&pid="+t.productId)}},l);t.default=(0,p.connect)(function(e){return(0,o.default)({},e)})(E)},RqDQ:function(e,t,a){}}]);