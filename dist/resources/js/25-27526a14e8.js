(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"+oAO":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a("YEIV")),l=f(a("QbLZ")),i=f(a("iCc5")),r=f(a("V7oC")),o=f(a("FYw3")),s=f(a("mRg0")),u=f(a("q1tI")),c=f(a("TSYQ")),d=f(a("Mv4v"));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){(0,i.default)(this,t);var a,n,l,r,s,c,d,f,p,m,h,g,v=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));v.scrollHanders=(a=-1,n=0,l=0,r=!1,s=!1,c=function(e,t){e.transform=t,e.webkitTransform=t},d=function(e,t){e.transition=t,e.webkitTransition=t},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.3;a!==t&&(a=t,n&&!v.props.noAnimate&&d(v.contentRef.style,"cubic-bezier(0,0,0.2,1.15) "+n+"s"),c(v.contentRef.style,"translate3d(0,"+-t+"px,0)"),setTimeout(function(){v.scrollingComplete(),v.contentRef&&d(v.contentRef.style,"")},1e3*+n))},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=0,n=0,l=0,i={record:function(i){var r=+new Date;l=(i-n)/(r-a),r-a>=e&&(l=r-a<=t?l:0,n=i,a=r)},getVelocity:function(e){return e!==n&&i.record(e),l}};return i}(),m=function(){s=!1;var e=a,t=(v.props.children.length-1)*v.itemHeight,n=.3,l=4*p.getVelocity(e);l&&(e=40*l+e,n=.1*Math.abs(l)),e%v.itemHeight!=0&&(e=Math.round(e/v.itemHeight)*v.itemHeight),e<0?e=0:e>t&&(e=t),f(0,e,n<.3?.3:n),v.onScrollChange()},h=function(e){r||(s=!0,l=e,n=a)},g=function(e){!r&&s&&(a=n-e+l,p.record(a),v.onScrollChange(),c(v.contentRef.style,"translate3d(0,"+-a+"px,0)"))},{touchstart:function(e){return h(e.touches[0].screenY)},mousedown:function(e){return h(e.screenY)},touchmove:function(e){e.preventDefault(),g(e.touches[0].screenY)},mousemove:function(e){e.preventDefault(),g(e.screenY)},touchend:function(){return m()},touchcancel:function(){return m()},mouseup:function(){return m()},getValue:function(){return a},scrollTo:f,setDisabled:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r=e}}),v.scrollTo=function(e){v.scrollHanders.scrollTo(0,e)},v.scrollToWithoutAnimation=function(e){v.scrollHanders.scrollTo(0,e,0)},v.fireValueChange=function(e){e!==v.state.selectedValue&&("selectedValue"in v.props||v.setState({selectedValue:e}),v.props.onValueChange&&v.props.onValueChange(e))},v.onScrollChange=function(){var e=v.scrollHanders.getValue();if(e>=0){var t=u.default.Children.toArray(v.props.children),a=v.props.computeChildIndex(e,v.itemHeight,t.length);if(v.scrollValue!==a){v.scrollValue=a;var n=t[a];n&&v.props.onScrollChange?v.props.onScrollChange(n.props.value):!n&&console.warn}}},v.scrollingComplete=function(){var e=v.scrollHanders.getValue();e>=0&&v.props.doScrollingComplete(e,v.itemHeight,v.fireValueChange)};var C=void 0,y=v.props,b=y.selectedValue,S=y.defaultSelectedValue;if(void 0!==b)C=b;else if(void 0!==S)C=S;else{var E=u.default.Children.toArray(v.props.children);C=E&&E[0]&&E[0].props.value}return v.state={selectedValue:C},v}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.contentRef,a=this.indicatorRef,n=this.maskRef,l=this.rootRef,i=l.getBoundingClientRect().height,r=this.itemHeight=a.getBoundingClientRect().height,o=Math.floor(i/r);o%2==0&&o--,o--,o/=2,t.style.padding=r*o+"px 0",a.style.top=r*o+"px",n.style.backgroundSize="100% "+r*o+"px",this.scrollHanders.setDisabled(this.props.disabled),this.props.select(this.state.selectedValue,this.itemHeight,this.scrollTo);var s=this.passiveSupported(),u=!!s&&{passive:!1},c=!!s&&{passive:!0};Object.keys(this.scrollHanders).forEach(function(t){if(0===t.indexOf("touch")||0===t.indexOf("mouse")){var a=t.indexOf("move")>=0?u:c;l.addEventListener(t,e.scrollHanders[t],a)}})}},{key:"componentWillUnmount",value:function(){var e=this;Object.keys(this.scrollHanders).forEach(function(t){0!==t.indexOf("touch")&&0!==t.indexOf("mouse")||e.rootRef.removeEventListener(t,e.scrollHanders[t])})}},{key:"passiveSupported",value:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}},{key:"componentWillReceiveProps",value:function(e){var t=this;"selectedValue"in e&&this.state.selectedValue!==e.selectedValue&&this.setState({selectedValue:e.selectedValue},function(){t.props.select(e.selectedValue,t.itemHeight,e.noAnimate?t.scrollToWithoutAnimation:t.scrollTo)}),this.scrollHanders.setDisabled(e.disabled)}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.selectedValue!==t.selectedValue||this.props.children!==e.children}},{key:"componentDidUpdate",value:function(){this.props.select(this.state.selectedValue,this.itemHeight,this.scrollToWithoutAnimation)}},{key:"getValue",value:function(){if("selectedValue"in this.props)return this.props.selectedValue;var e=u.default.Children.toArray(this.props.children);return e&&e[0]&&e[0].props.value}},{key:"render",value:function(){var e,t=this,a=this.props,i=a.prefixCls,r=a.itemStyle,o=a.indicatorStyle,s=a.indicatorClassName,d=void 0===s?"":s,f=a.children,p=this.state.selectedValue,m=i+"-item",h=m+" "+i+"-item-selected",g=function(e){var t=e.props,a=t.className,n=void 0===a?"":a,i=t.style,o=t.value;return u.default.createElement("div",{style:(0,l.default)({},r,i),className:(p===o?h:m)+" "+n,key:o},e.children||e.props.children)},v=u.default.Children?u.default.Children.map(f,g):[].concat(f).map(g),C=(e={},(0,n.default)(e,a.className,!!a.className),(0,n.default)(e,i,!0),e);return u.default.createElement("div",{className:(0,c.default)(C),ref:function(e){return t.rootRef=e},style:this.props.style},u.default.createElement("div",{className:i+"-mask",ref:function(e){return t.maskRef=e}}),u.default.createElement("div",{className:i+"-indicator "+d,ref:function(e){return t.indicatorRef=e},style:o}),u.default.createElement("div",{className:i+"-content",ref:function(e){return t.contentRef=e}},v))}}]),t}(u.default.Component);p.defaultProps={prefixCls:"rmc-picker"},t.default=(0,d.default)(p),e.exports=t.default},"2+D2":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a("iCc5")),l=u(a("FYw3")),i=u(a("mRg0")),r=a("P6eb"),o=u(r),s=u(a("EYix"));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){(0,n.default)(this,t);var e=(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.popupProps=s.default,e}return(0,i.default)(t,e),t}(o.default);t.default=c,c.defaultProps=(0,r.getDefaultProps)(),e.exports=t.default},"2iLz":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=g(a("2+D2")),l=g(a("jeTP")),i=g(a("NtIf")),r=g(a("QbLZ")),o=g(a("Kl5d")),s=g(a("Yz+Y")),u=g(a("iCc5")),c=g(a("V7oC")),d=g(a("FYw3")),f=g(a("mRg0"));a("of8z"),a("cn7L"),a("9prx"),a("TttT");var p=g(a("q1tI")),m=a("MuoO"),h=(g(a("17x9")),a("sd4h"));g(a("1dND"));function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){(0,u.default)(this,t);var a=(0,d.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));a.getTemplate=function(){var e=a.props.TemplateId;e&&a.props.dispatch({type:"detail/getGameProTemp",payload:{productTemplateId:e}})},a.mangeNum=function(e){var t=a.props.choseProduct,n=[],l=[];e&&(-1!=e.value.indexOf("|")?l=e.value.split("|"):l.push(e.value),l.length&&l.map(function(e){if(-1!=e.indexOf("-"))for(var a=e.split("-"),l=Number(a[0]);l<=Number(a[1]);l++)Number(l)<=Number(t.singlePurchaseLimit)&&n.push({label:l.toString(),value:l.toString()});else Number(e)<=t.singlePurchaseLimit&&n.push({label:e.toString(),value:e.toString()})})),a.setState({chargeSelect:n},function(){var e=a.state.postData;e.ChargeNum=n[0].value||"1",a.setState({postData:e})})},a.changeGame=function(e){a.props.form.setFieldsValue({ChargeRegion:"",ChargeServer:"",ChargeType:""});var t=a.state,n=t.ChargeGameList,l=t.ChargeRegionList,i=t.ChargeServerList,r=t.ChargeTypeList;n.map(function(t){t.ChargeGame===e&&(t.gameList.ChargeRegion[0]&&(l=t.gameList.ChargeRegion,i=[],r=[]),t.gameList.ChargeServer[0]&&(i=t.gameList.ChargeServer,r=[]),t.gameList.ChargeType[0]&&(r=t.gameList.ChargeType),a.setState({ChargeRegionList:l,ChargeServerList:i,ChargeTypeList:r}))})},a.changeRegion=function(e){a.props.form.setFieldsValue({ChargeServer:"",ChargeType:""});var t=a.state,n=t.ChargeRegionList,l=t.ChargeServerList,i=t.ChargeTypeList;n.map(function(t){t.name===e&&(t.ChargeServer[0]&&(l=t.ChargeServer,i[0]&&t.ChargeType[0]&&(i=[])),t.ChargeType[0]&&(i=t.ChargeType),a.setState({ChargeServerList:l,ChargeTypeList:i}))})},a.changeServer=function(e){a.props.form.setFieldsValue({ChargeType:""});var t=a.state,n=t.ChargeServerList,l=t.ChargeTypeList;n.map(function(t){t.name===e&&(t.ChargeType[0]&&(l=t.ChargeType),a.setState({ChargeTypeList:l}))})},a.exchange=function(){a.props.form.validateFields(function(e,t){if(!e){var n=a.state.postData;if("ChargeAccount"in t){var l=a.props.validType,i="",r="";if(1===l?(i=/^1(3|4|5|6|7|8|9)\d{9}$/,r="手机号"):2===l?(i=/^[1-9][0-9]{4,9}$/,r="QQ号"):3===l&&(i=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/,r="邮箱"),!n.ChargeAccount)return o.default.info("请输入正确充值账号");if(i&&!i.test(n.ChargeAccount))return o.default.info("请输入正确格式的"+r)}if("ContactType"in t&&!/^1(3|4|5|6|7|8|9)\d{9}$/.test(n.ContactType))return o.default.info("手机号格式错误");if("ContactQQ"in t&&!/^[1-9][0-9]{4,11}$/.test(n.ChargeAccount))return o.default.info("qq格式错误");if("ChargePWD"in t&&!/^[a-zA-Z0-9_-]{4,16}$/.test(n.ChargePWD))return o.default.info("密码由4到16位（字母，数字，下划线，减号）组成");if("ChargeWeiXin"in t&&!/^[a-zA-Z]([-_a-zA-Z0-9]{5,19})+$/.test(n.ChargeWeiXin))return o.default.info("微信格式错误");if("ChargeContacts"in t&&!n.ChargeContacts)return o.default.info("联系人不能为空");if("ChargeAddress"in t&&!n.ChargeAddress)return o.default.info("联系地址不能为空");if("ChargeGame"in t&&!n.ChargeGame)return o.default.info("充值游戏不能为空");if("ChargeRegion"in t&&!n.ChargeRegion)return o.default.info("充值区不能为空");if("ChargeServer"in t&&!n.ChargeServer)return o.default.info("充值服不能为空");if("ChargeType"in t&&!n.ChargeType)return o.default.info("充值类型不能为空");a.props.getGameInfo(n)}})},a.changeInput=function(e,t){var n=a.state.postData;n[""+e]=t,a.setState({postData:n})},a.changeSelect=function(e,t){var n=a.state.postData;n[""+e]=t[0],a.setState({postData:n})},a.blurInput=function(){document.documentElement.scrollTop=document.documentElement.scrollTop};localStorage.getItem("userInfo")&&JSON.parse(localStorage.getItem("userInfo"));var n=localStorage.getItem("shopInfo")?JSON.parse(localStorage.getItem("shopInfo")):{};return a.state={inputs:[],ChargeGameList:[],chargeSelect:[],chargeNum:{},isServiceArea:!1,ChargeRegionList:[],ChargeServerList:[],ChargeTypeList:[],postData:{ChargeNum:"1",ChargeGame:"",ChargeRegion:"",ChargeServer:"",ChargeType:""},shopInfo:n},a}return(0,f.default)(t,e),(0,c.default)(t,[{key:"componentWillMount",value:function(){this.getTemplate()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=e.detail,n=a.getGameProTemp,l=a.toOrderMid;if(n!==t.detail.getGameProTemp){var i=n.code,r=n.data;if("1000"===i)if(r.addressId){var s=r.elementInfo,u=r.gameTempaltePreviewList,c=r.isServiceArea;s&&s.chargeNum&&(this.mangeNum(s.chargeNum),this.setState({chargeNum:s.chargeNum})),this.setState({inputs:s&&s.inputs?s.inputs:[],ChargeGameList:u,isServiceArea:c})}else o.default.info(n.message);else o.default.info(n.message)}if(l!==t.detail.toOrderMid){var d=this.state.postData;d.ChargeNum="1",this.getTemplate(),this.setState({postData:d})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.isServiceArea,o=t.inputs,s=t.chargeNum,u=t.shopInfo,c=t.chargeSelect,d=t.ChargeGameList,f=t.ChargeRegionList,m=t.ChargeServerList,h=t.ChargeTypeList,g=t.postData,v=this.props,C=v.choseProduct,y=v.passCodeStatus,b=v.startSecound,S=(v.surplusTime,v.isLoading),E=this.props.form.getFieldProps,k=[],N=[],P=[],I=[];return d&&d[0]&&d.map(function(e){k.push({label:e.ChargeGame,value:e.ChargeGame})}),f&&f[0]&&f.map(function(e){N.push({label:e.name,value:e.name})}),m&&m[0]&&m.map(function(e){P.push({label:e.name,value:e.name})}),h&&h[0]&&h.map(function(e){I.push({label:e.name,value:e.name})}),p.default.createElement("div",{className:"exchange-form"},p.default.createElement(l.default,null,o&&o.length?o.map(function(t){if("Input"===t.type)return p.default.createElement("div",{className:"d-account"},u.codeKey.toLowerCase()!==(configs.xiaomi?configs.xiaomi.toLowerCase():"")?p.default.createElement(i.default,(0,r.default)({},E(t.id),{placeholder:C.inputTips||"请输入"+t.name,clear:!0,onClick:function(e){e.currentTarget.focus()},onBlur:e.blurInput,className:"input-bg",value:g[""+t.id],onChange:function(a){e.changeInput(""+t.id,a)},disabled:C.isActivity&&3===y.userPassCodeStatus})):C.isActivity&&3===y.userPassCodeStatus?"":p.default.createElement(i.default,(0,r.default)({},E(t.id),{placeholder:C.inputTips||"请输入"+t.name,clear:!0,onClick:function(e){e.currentTarget.focus()},onBlur:e.blurInput,className:"input-bg",value:g[""+t.id],onChange:function(a){e.changeInput(""+t.id,a)}})))}):"",a?p.default.createElement("div",null,k&&k[0]&&p.default.createElement("div",{className:"d-account"},p.default.createElement(n.default,(0,r.default)({},E("ChargeGame"),{data:k,cols:1,value:[g.ChargeGame],onChange:function(t){e.changeSelect("ChargeGame",t),e.changeGame(t[0])}}),p.default.createElement(l.default.Item,{arrow:"horizontal"},"游戏"))),N&&N[0]&&p.default.createElement("div",{className:"d-account"},p.default.createElement(n.default,(0,r.default)({},E("ChargeRegion"),{data:N,cols:1,value:[g.ChargeRegion],onChange:function(t){e.changeSelect("ChargeRegion",t),e.changeRegion(t[0])}}),p.default.createElement(l.default.Item,{arrow:"horizontal"},"游戏大区"))),P&&P[0]&&p.default.createElement("div",{className:"d-account"},p.default.createElement(n.default,(0,r.default)({},E("ChargeServer"),{data:P,cols:1,value:[g.ChargeServer],onChange:function(t){e.changeSelect("ChargeServer",t),e.changeServer(t[0])}}),p.default.createElement(l.default.Item,{arrow:"horizontal"},"游戏服"))),I&&I[0]&&p.default.createElement("div",{className:"d-account"},p.default.createElement(n.default,(0,r.default)({},E("ChargeType"),{data:I,cols:1,value:[g.ChargeType],onChange:function(t){e.changeSelect("ChargeType",t)}}),p.default.createElement(l.default.Item,{arrow:"horizontal"},"游戏类型")))):"",c&&c[0]&&!C.isActivity&&p.default.createElement("div",{className:"d-account"},p.default.createElement(n.default,{data:c,cols:1,value:[g[""+s.id]],onChange:function(t){e.changeSelect(""+s.id,t)}},p.default.createElement(l.default.Item,{arrow:"horizontal"},"选择数量")))),C.isActivity?p.default.createElement("div",{className:"btn-bg"},0==C.activityState?p.default.createElement("button",{className:"btn-block time-btn"},p.default.createElement("span",null,"距离开抢还剩："),p.default.createElement("span",null,b||"--:--")):"",1==C.activityState&&y?p.default.createElement("div",{className:"active-btn"},3===y.userPassCodeStatus?p.default.createElement("button",{className:"btn-block prim-btn",onClick:this.props.GetPassCode},"马上抢"):"",4!==y.userPassCodeStatus||S?"":p.default.createElement("button",{className:"btn-block prim-btn",onClick:this.exchange},"立即购买"),1!==y.userPassCodeStatus||S?"":p.default.createElement("button",{className:"btn-block prim-btn",onClick:function(){e.props.toOrderSure(y.orderNo)}},"立即购买"),4===y.userPassCodeStatus&&S?p.default.createElement("button",{disabled:!0,className:"btn-block disable-btn"},"正在抢购，请稍等..."):"",2===y.userPassCodeStatus?p.default.createElement("button",{disabled:!0,className:"btn-block disable-btn"},"您已参加"):""):"",2==C.activityState?p.default.createElement("button",{disabled:!0,className:"btn-block disable-btn"},"活动已结束"):""):p.default.createElement("div",{className:"btn-bg"},p.default.createElement("button",{className:"btn-block prim-btn",onClick:function(){e.exchange()},disabled:!(!this.props.loading||!this.props.loading.effects["detail/sendOrder"]),loading:!(!this.props.loading||!this.props.loading.effects["detail/sendOrder"])},"立即购买")))}}]),t}(p.default.Component);t.default=(0,m.connect)(function(e){return(0,r.default)({},e)})((0,h.createForm)()(v))},"5o2e":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a("QbLZ")),l=f(a("iCc5")),i=f(a("V7oC")),r=f(a("FYw3")),o=f(a("mRg0")),s=f(a("q1tI")),u=f(a("uK0f")),c=f(a("saW0")),d=f(a("+oAO"));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){(0,l.default)(this,t);var e=(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={value:e.getValue(e.props.data,e.props.defaultValue||e.props.value)},e.onValueChange=function(t,a){var n=(0,u.default)(e.props.data,function(e,n){return n<=a&&e.value===t[n]})[a],l=void 0;for(l=a+1;n&&n.children&&n.children.length&&l<e.props.cols;l++)n=n.children[0],t[l]=n.value;t.length=l,"value"in e.props||e.setState({value:t}),e.props.onChange&&e.props.onChange(t)},e}return(0,o.default)(t,e),(0,i.default)(t,[{key:"componentWillReceiveProps",value:function(e){"value"in e&&this.setState({value:this.getValue(e.data,e.value)})}},{key:"getValue",value:function(e,t){var a=e||this.props.data,n=t||this.props.value||this.props.defaultValue;if(!n||!n.length){n=[];for(var l=0;l<this.props.cols;l++)a&&a.length&&(n[l]=a[0].value,a=a[0].children)}return n}},{key:"getCols",value:function(){var e=this.props,t=e.data,a=e.cols,n=e.pickerPrefixCls,l=e.disabled,i=e.pickerItemStyle,r=e.indicatorStyle,o=this.state.value,c=(0,u.default)(t,function(e,t){return e.value===o[t]}).map(function(e){return e.children}),f=a-c.length;if(f>0)for(var p=0;p<f;p++)c.push([]);return c.length=a-1,c.unshift(t),c.map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];return s.default.createElement(d.default,{key:t,prefixCls:n,style:{flex:1},disabled:l,itemStyle:i,indicatorStyle:r},e.map(function(e){return s.default.createElement(d.default.Item,{value:e.value,key:e.value},e.label)}))})}},{key:"render",value:function(){var e=this.props,t=e.prefixCls,a=e.className,l=e.rootNativeProps,i=e.style,r=this.getCols(),o=(0,n.default)({flexDirection:"row",alignItems:"center"},i);return s.default.createElement(c.default,{style:o,prefixCls:t,className:a,selectedValue:this.state.value,rootNativeProps:l,onValueChange:this.onValueChange,onScrollChange:e.onScrollChange},r)}}]),t}(s.default.Component);p.defaultProps={cols:3,prefixCls:"rmc-cascader",pickerPrefixCls:"rmc-picker",data:[],disabled:!1},t.default=p,e.exports=t.default},AoRI:function(e,t,a){},EYix:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={WrapComponent:"div",transitionName:"am-slide-up",maskTransitionName:"am-fade"},e.exports=t.default},EdU1:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={okText:"确定",dismissText:"取消",extra:"请选择"},e.exports=t.default},GMuK:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a("QbLZ")),l=c(a("YEIV")),i=c(a("iCc5")),r=c(a("V7oC")),o=c(a("FYw3")),s=c(a("mRg0"));t.default=function(e,t){return(a=function(t){function a(e){(0,i.default)(this,a);var t=(0,o.default)(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.onPickerChange=function(e){if(t.state.pickerValue!==e){t.setState({pickerValue:e});var a=t.props,n=a.picker,l=a.pickerValueChangeProp;n&&n.props[l]&&n.props[l](e)}},t.saveRef=function(e){t.picker=e},t.onTriggerClick=function(e){var a=t.props.children,n=a.props||{};n[t.props.triggerType]&&n[t.props.triggerType](e),t.fireVisibleChange(!t.state.visible)},t.onOk=function(){t.props.onOk(t.picker&&t.picker.getValue()),t.fireVisibleChange(!1)},t.getContent=function(){if(t.props.picker){var e,a=t.state.pickerValue;return null===a&&(a=t.props.value),u.default.cloneElement(t.props.picker,(e={},(0,l.default)(e,t.props.pickerValueProp,a),(0,l.default)(e,t.props.pickerValueChangeProp,t.onPickerChange),(0,l.default)(e,"ref",t.saveRef),e))}return t.props.content},t.onDismiss=function(){t.props.onDismiss(),t.fireVisibleChange(!1)},t.hide=function(){t.fireVisibleChange(!1)},t.state={pickerValue:"value"in t.props?t.props.value:null,visible:t.props.visible||!1},t}return(0,s.default)(a,t),(0,r.default)(a,[{key:"componentWillReceiveProps",value:function(e){"value"in e&&this.setState({pickerValue:e.value}),"visible"in e&&this.setVisibleState(e.visible)}},{key:"setVisibleState",value:function(e){this.setState({visible:e}),e||this.setState({pickerValue:null})}},{key:"fireVisibleChange",value:function(e){this.state.visible!==e&&("visible"in this.props||this.setVisibleState(e),this.props.onVisibleChange(e))}},{key:"getRender",value:function(){var t=this.props,a=t.children;if(!a)return e(t,this.state.visible,{getContent:this.getContent,onOk:this.onOk,hide:this.hide,onDismiss:this.onDismiss});var n=this.props,l=n.WrapComponent,i=n.disabled,r=a,o={};return i||(o[t.triggerType]=this.onTriggerClick),u.default.createElement(l,{style:t.wrapStyle},u.default.cloneElement(r,o),e(t,this.state.visible,{getContent:this.getContent,onOk:this.onOk,hide:this.hide,onDismiss:this.onDismiss}))}},{key:"render",value:function(){return this.getRender()}}]),a}(u.default.Component)).defaultProps=(0,n.default)({onVisibleChange:function(e){},okText:"Ok",dismissText:"Dismiss",title:"",onOk:function(e){},onDismiss:function(){}},t),a;var a};var u=c(a("q1tI"));function c(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},HMmV:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,l=a("2iLz"),i=(n=l)&&n.__esModule?n:{default:n};t.default=i.default},JMAg:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a("iCc5")),l=u(a("V7oC")),i=u(a("FYw3")),r=u(a("mRg0")),o=u(a("TSYQ")),s=u(a("q1tI"));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return(0,n.default)(this,t),(0,i.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,r.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,a=e.size,n=e.className,l=e.children,i=e.style,r=(0,o.default)(t,t+"-"+a,n);return s.default.createElement("div",{className:r,style:i},l)}}]),t}(s.default.Component);t.default=c,c.defaultProps={prefixCls:"am-wingblank",size:"lg"},e.exports=t.default},Kr0c:function(e,t,a){},Mv4v:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a("QbLZ")),l=u(a("iCc5")),i=u(a("V7oC")),r=u(a("FYw3")),o=u(a("mRg0"));t.default=function(e){return(t=function(t){function a(){(0,l.default)(this,a);var e=(0,r.default)(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments));return e.select=function(t,a,n){for(var l=s.default.Children.toArray(e.props.children),i=0,r=l.length;i<r;i++)if(l[i].props.value===t)return void e.selectByIndex(i,a,n);e.selectByIndex(0,a,n)},e.doScrollingComplete=function(t,a,n){var l=s.default.Children.toArray(e.props.children),i=e.computeChildIndex(t,a,l.length),r=l[i];r?n(r.props.value):console.warn},e}return(0,o.default)(a,t),(0,i.default)(a,[{key:"selectByIndex",value:function(e,t,a){e<0||e>=s.default.Children.count(this.props.children)||!t||a(e*t)}},{key:"computeChildIndex",value:function(e,t,a){var n=Math.round(e/t);return Math.min(n,a-1)}},{key:"render",value:function(){return s.default.createElement(e,(0,n.default)({},this.props,{doScrollingComplete:this.doScrollingComplete,computeChildIndex:this.computeChildIndex,select:this.select}))}}]),a}(s.default.Component)).Item=c,t;var t};var s=u(a("q1tI"));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return null};e.exports=t.default},NTF0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a("q1tI")),l=o(a("cJvx")),i=o(a("GMuK")),r=o(a("9wUZ"));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)(function(e,t,a){var i=a.getContent,o=a.hide,s=a.onDismiss,u=a.onOk;if(!t)return null;var c=e.prefixCls;return n.default.createElement(l.default,{prefixCls:""+c,className:e.className||"",visible:!0,closable:!1,transitionName:e.transitionName||e.popupTransitionName,maskTransitionName:e.maskTransitionName,onClose:o,style:e.style},n.default.createElement("div",null,n.default.createElement("div",{className:c+"-header"},n.default.createElement(r.default,{activeClassName:c+"-item-active"},n.default.createElement("div",{className:c+"-item "+c+"-header-left",onClick:s},e.dismissText)),n.default.createElement("div",{className:c+"-item "+c+"-title"},e.title),n.default.createElement(r.default,{activeClassName:c+"-item-active"},n.default.createElement("div",{className:c+"-item "+c+"-header-right",onClick:u},e.okText))),i()))},{prefixCls:"rmc-picker-popup",WrapComponent:"span",triggerType:"onClick",pickerValueProp:"selectedValue",pickerValueChangeProp:"onValueChange"}),e.exports=t.default},Omam:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,l,i=O(a("P2sY")),r=O(a("YEIV")),o=O(a("JMAg")),s=O(a("2+D2")),u=O(a("jeTP")),c=O(a("NtIf")),d=O(a("LOOE")),f=O(a("QbLZ")),p=O(a("Kl5d")),m=O(a("gDS+")),h=O(a("Yz+Y")),g=O(a("iCc5")),v=O(a("V7oC")),C=O(a("FYw3")),y=O(a("mRg0")),b=O(a("3UyF"));a("ca75"),a("of8z"),a("cn7L"),a("9prx"),a("jIel"),a("TttT"),a("RhWh");var S=O(a("q1tI")),E=a("MuoO"),k=O(a("Rnav")),N=(O(a("i6OX")),a("sd4h")),P=a("X4fA"),I=O(a("HMmV")),T=O(a("Upkh")),x=(O(a("MG2k")),a("7DNP")),V=O(a("GBY4"));a("Pk57");var L=O(a("1dND"));function O(e){return e&&e.__esModule?e:{default:e}}b.default.prompt;var _=(n=function(e){function t(e){(0,g.default)(this,t);var a=(0,C.default)(this,(t.__proto__||(0,h.default)(t)).call(this,e));l.call(a);var n=(0,V.default)(e.location.search,!0).query,i=n.gid,r=n.pid,o=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):{},s=localStorage.getItem("shopInfo")?JSON.parse(localStorage.getItem("shopInfo")):{};return a.state={gid:i,pid:r,typeDetail:{},ChargeNum:"1",goodsDetail:{},hasError:!1,postData:{childCategoryId:i},shopInfo:s,extractCode:"",userInfo:o,passCodeStatus:{},showMallLoginModal:!1,formData:{},showquanList:!1},a.xInteval=null,a}return(0,y.default)(t,e),(0,v.default)(t,[{key:"componentWillMount",value:function(){var e=this;scrollTo(0,0);var t=this.isAlipayOrWechat();this.setState({payment:t},function(){e.init()}),document.addEventListener("visibilitychange",function(){document.hidden?e.setState({windowShow:!1}):e.setState({windowShow:!0},function(){e.state.windowShow&&e.init()})})}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=this.props,n=e.detail,l=n.getGoodsList,i=n.sendCardOrder,r=n.sendOrder,o=n.GetPassCodeStatus,s=n.GetPassCode,u=e.coupons,c=u.GetProInfoDetailCouponList,d=u.ObtainCard,f=this.state,h=f.pid,g=f.userInfo,v=f.shopInfo,C=e.login.fuluusertoken;if(C!==a.login.fuluusertoken){var y=C.code,b=C.data,S=C.message;"1000"===y?(localStorage.setItem("userInfo",(0,m.default)(b)),this.loginSuccess(b)):p.default.fail(S)}if(d!==a.coupons.ObtainCard){var E=d.code,k=(d.data,d.message);"1000"===E?(setTimeout(function(){t.getCoupothis()},300),this.setState({getQuan:!1}),p.default.info("领取成功")):"-3"===E||"1013"===E||"1014"===E||"1015"===E?this.authorizationFailure():p.default.info(k)}if(l!==a.detail.getGoodsList){var N=l.code,P=l.data,I=l.message;if("1000"===N){var T={};P.productList&&P.productList[0]&&P.productList.map(function(e,t){e.active=!1,h?h===e.productId&&(e.active=!0,T=e):0===t&&(e.active=!0,T=e)}),this.setState({typeDetail:P,goodsDetail:T},function(){T.startSecound&&t.settime(T.startSecound,"startSecound",0),T.surplusTime&&t.settime(T.surplusTime,"surplusTime",1),T.isActivity&&t.getPassCodeStatus(),t.getCoupothis()})}else"-1"===N?(p.default.info("商品不存在"),this.props.history.push("/")):p.default.info(I)}if(r!==a.detail.sendOrder){var x=r.code,V=r.data;"1000"===x?window.location.href=configs.commonUrl+"/orderSure?oid="+V+"&codeKey="+v.codeKey+"&fuluToken="+g.fuluToken+"&fuluId="+g.fuluId:"-3"===x||"1013"===x||"1014"===x||"1015"===x?this.authorizationFailure():p.default.info(r.message)}if(i!==a.detail.sendCardOrder){var L=i.code,O=i.data;"1000"===L?window.location.href=configs.commonUrl+"/orderSure?oid="+O+"&codeKey="+v.codeKey+"&fuluToken="+g.fuluToken+"&fuluId="+g.fuluId:"-3"===L||"1013"===L||"1014"===L||"1015"===L?this.authorizationFailure():p.default.info(i.message)}if(o!==a.detail.GetPassCodeStatus){var _=o.code,w=o.data;"1000"===_?this.setState({isLoading:!1,passCodeStatus:w}):"-3"===_||"1013"===_||"1014"===_||"1015"===_?this.authorizationFailure():p.default.info(o.message)}if(s!==a.detail.GetPassCode){var M=s.code;s.data;"1000"===M?(p.default.success("恭喜您，已获得活动名额"),this.setState({isLoading:!1,passCodeStatus:{orderNo:"",userPassCodeStatus:4}})):"-3"===M||"1013"===M||"1014"===M||"1015"===M?this.authorizationFailure():p.default.info(s.message)}if(c!==a.coupons.GetProInfoDetailCouponList){var D=c.code,A=c.data;c.message;"1000"===D?this.setState({couponList:A.list,getQuanList:!1}):"-3"===D||"1013"===D||"1014"===D||"1015"===D?(this.setState({getQuanList:!0}),this.authorizationFailure()):p.default.info(r.message)}}},{key:"render",value:function(){for(var e=this,t=this.state,a=t.typeDetail,n=t.ChargeNum,l=t.goodsDetail,i=t.hasError,r=t.extractCode,p=t.couponList,m=t.passCodeStatus,h=t.isLoading,g=t.showquanList,v=t.startSecound,C=t.surplusTime,y=t.showMallLoginModal,E=t.chinaBankModal,N=t.shopInfo,P=this.props.form.getFieldProps,V=[],L=1;L<=100;L++)L<=l.singlePurchaseLimit&&V.push({label:L.toString(),value:L.toString()});return S.default.createElement("div",{className:"detail-bg"},S.default.createElement(k.default,(0,f.default)({},this.props,{title:"充值中心",myLoading:!!this.props.loading.models.detail})),S.default.createElement("div",{className:"detail-con"},S.default.createElement("div",{className:"goods-info-bg"},l.productImage?S.default.createElement("img",{src:l.productImage,className:"goods-img"}):S.default.createElement("div",{className:"img-bg"}),l.isActivity?S.default.createElement("div",{className:"active-info timelimit"},S.default.createElement("div",{className:"left"},S.default.createElement("div",{className:"price"},S.default.createElement("small",null,"￥"),l.price,S.default.createElement("s",null,"￥",l.faceValue),S.default.createElement("span",{className:"limit-icon"})),S.default.createElement("div",{className:"name"},l.productName)),S.default.createElement("div",{className:"timelimit-right"},S.default.createElement("div",null,S.default.createElement("div",{className:"time"},S.default.createElement("div",{className:"activeTime"},S.default.createElement("span",{className:"activeTime-title"},2==l.activityState?l.endTime+"结束":1==l.activityState?"距结束还剩":l.startTime+"开始"),S.default.createElement("span",{className:"activeTime-time"},C?S.default.createElement("span",null,S.default.createElement("span",{className:"time-item"},1==l.activityState?C[0]:"0"),"天",S.default.createElement("span",{className:"time-item"},1==l.activityState?C[1]:"0"),":",S.default.createElement("span",{className:"time-item"},1==l.activityState?C[2]:"0"),":",S.default.createElement("span",{className:"time-item"},1==l.activityState?C[3]:"0")):"--:--")))))):S.default.createElement("div",{className:"active-info"},S.default.createElement("div",{className:"left"},S.default.createElement("div",{className:"price"},S.default.createElement("small",null,"￥"),l.price,S.default.createElement("s",null,"￥",l.faceValue)),S.default.createElement("div",{className:"name"},l.productName)),S.default.createElement("div",{className:"right"},S.default.createElement("img",{src:a.iconPath,className:"second-img"})))),p&&p[0]?S.default.createElement("div",{className:"quan-bg",onClick:function(){e.showquanList()}},p&&p[0]&&p.map(function(e,t){if(t<3)return S.default.createElement("div",{className:"item font-clamp",key:t},e.content)}),S.default.createElement("div",{className:"to-list"},"领券",S.default.createElement(d.default,{type:"right"}))):"",g&&p&&p[0]&&S.default.createElement("div",{className:"modal-bg"},S.default.createElement("div",{className:"modal-close",onClick:this.hidequanList}),S.default.createElement("div",{className:"main"},S.default.createElement("h3",null,"领取优惠券",S.default.createElement("span",{className:"close-btn",onClick:this.hidequanList},S.default.createElement(d.default,{type:"cross"}))),S.default.createElement("div",{className:"list"},p&&p[0]&&p.map(function(t,a){return S.default.createElement("div",{className:1!=t.status?"item":"item unStart",key:a},S.default.createElement("div",{className:"left"},S.default.createElement("small",null,"￥"),S.default.createElement("strong",null,t.price),S.default.createElement("p",null,t.content)),S.default.createElement("div",{className:"line"}),S.default.createElement("div",{className:"right"},S.default.createElement("div",{className:"txt font-clamp"},t.name),S.default.createElement("div",{className:"time font-clamp"},t.instructions),S.default.createElement("div",{className:"use-down font-clamp"},t.startActiveTime," ~ ",t.endActiveTime),1==t.status?S.default.createElement("p",{className:"no-start"},"即将生效"):"",1==t.status?S.default.createElement("p",{className:"btn-txt"},"已领取"):2==t.status?S.default.createElement("button",{className:"get-btn",onClick:function(){e.getQuan(t.id)}},"领取"):S.default.createElement("p",{className:"btn-txt"},"已领取")))})))),S.default.createElement("div",{className:"goods-isActivity"},S.default.createElement("div",{className:"d-goods"},S.default.createElement("ul",{className:"clearfix"},a.productList&&a.productList.length>1&&a.productList.map(function(t,a){return S.default.createElement("li",{className:t.active?"active":"",key:a,onClick:function(){e.choseGoods(t)}},S.default.createElement("div",{className:"g-faceValue"},t.productName),S.default.createElement("div",{className:"g-price"},t.price,S.default.createElement("small",null,"元")),t.productLableName?S.default.createElement("div",{className:t.isActivity?"sale-tips sale-active":"sale-tips"},t.productLableName):"")})))),"直充"===a.productType&&S.default.createElement(I.default,{TemplateId:l.templateId,getGameInfo:this.toPay,choseProduct:l,payment:this.state.payment,validType:l.validType,passCodeStatus:m,startSecound:v,GetPassCode:this.GetPassCode,toOrderSure:this.toOrderSure,isLoading:h}),"卡密"===a.productType&&N.codeKey.toLowerCase()!==(configs.xiaomi?configs.xiaomi.toLowerCase():"")&&S.default.createElement("div",{className:"d-account"},S.default.createElement(c.default,(0,f.default)({},P("extractCode"),{placeholder:"输入6位数字提取码",clear:!0,className:"input-bg",onClick:function(e){e.currentTarget.focus()},onBlur:this.blurInput,type:"number",onChange:this.onChange,value:r,disabled:l.isActivity&&3===m.userPassCodeStatus})),i?S.default.createElement("p",{className:"input-tips redfont"},"请输入6位数字的提取码"):l.isActivity&&S.default.createElement("p",{className:"input-tips"},"该6位数提取码是您自定义设置，下单完成后凭此提取码兑换您的卡密信息")),"卡密"===a.productType&&!l.isActivity&&S.default.createElement("div",{className:"d-account"},S.default.createElement(s.default,{data:V,cols:1,value:[n],onChange:this.changeNum,disabled:3===m.userPassCodeStatus},S.default.createElement(u.default.Item,{arrow:"horizontal"},"选择数量")),N.codeKey.toLowerCase()!==(configs.xiaomi?configs.xiaomi.toLowerCase():"")&&S.default.createElement("p",{className:"input-tips"},"该6位数提取码是您自定义设置，下单完成后凭此提取码兑换您的卡密信息"))),S.default.createElement("div",{className:"goods-info"},S.default.createElement("article",null,l.content&&l.content.split("|").map(function(e,t){return S.default.createElement("div",{key:t,dangerouslySetInnerHTML:{__html:e}})}),"卡密"===a.productType&&S.default.createElement("div",{className:"rule-bg"},S.default.createElement("h3",null,"使用说明"),S.default.createElement("div",{className:"rule-img"}))),S.default.createElement("div",{className:"rule-tips-bg"},S.default.createElement("h3",null,"注意常见骗子手段"),S.default.createElement("div",null,S.default.createElement("span",null,"1、"),S.default.createElement("p",null,"以互刷信誉或兼职为借口指定账号让您购买")),S.default.createElement("div",null,S.default.createElement("span",null,"2、"),S.default.createElement("p",null,"骗子盗取您的好友账号，让您帮其代充")),S.default.createElement("div",null,S.default.createElement("span",null,"3、"),S.default.createElement("p",null,"低价引诱，发送链接让您购买")),S.default.createElement("div",null,S.default.createElement("span",null,"4、"),S.default.createElement("p",null,"请勿相信任何非官方售后消息，如遇任何问题联系",S.default.createElement(x.Link,{to:"/service",className:"link"},"售后服务"))))),"卡密"===a.productType&&S.default.createElement("span",null,l.isActivity?S.default.createElement("div",{className:"btn-bg"},0==l.activityState?S.default.createElement("button",{className:"btn-block time-btn"},"距离开抢还剩：",v||"--:--"):"",1==l.activityState?S.default.createElement("div",{className:"active-btn"},3===m.userPassCodeStatus?S.default.createElement("button",{className:"btn-block prim-btn",onClick:this.GetPassCode},"马上抢"):"",4!==m.userPassCodeStatus||h?"":S.default.createElement("button",{className:"btn-block prim-btn",onClick:this.toPay},"立即购买"),1!==m.userPassCodeStatus||h?"":S.default.createElement("button",{className:"btn-block prim-btn",onClick:function(){e.toOrderSure(m.orderNo)}},"立即购买"),4===m.userPassCodeStatus&&h?S.default.createElement("button",{disabled:!0,className:"btn-block disable-btn"},"正在抢购，请稍等..."):"",2===m.userPassCodeStatus?S.default.createElement("button",{disabled:!0,className:"btn-block disable-btn"},"您已参加"):""):"",2==l.activityState?S.default.createElement("button",{disabled:!0,className:"btn-block disable-btn"},"活动已结束"):""):S.default.createElement("div",{className:"btn-bg"},S.default.createElement("button",{className:"btn-block prim-btn",onClick:function(){e.toPay({},"showMallLoginModal")},disabled:!(!this.props.loading||!this.props.loading.effects["detail/sendCardOrder"]),loading:!(!this.props.loading||!this.props.loading.effects["detail/sendCardOrder"])},"立即购买"))),E&&S.default.createElement(o.default,null,S.default.createElement(b.default,{title:"提示信息",transparent:!0,maskClosable:!1,visible:!0,className:"chinaBankModal",onClose:this.chinamodalCancel,footer:[{text:"确定",onPress:this.chinamodalCancel}]},S.default.createElement("div",null,"该活动仅限湖北地区客户参加。"))),y&&S.default.createElement(T.default,{loginSuccess:this.loginSuccess,hideLoginModal:this.hideLoginModal}))}}]),t}(S.default.Component),l=function(){var e=this;this.getCoupothis=function(){var t=e.state.goodsDetail;e.props.dispatch({type:"coupons/GetProInfoDetailCouponList",payload:{productId:t.productId,PageIndex:1,PageSize:99999}})},this.loginSuccess=function(t){e.hideLoginModal();var a=e.state,n=a.formData,l=a.goodsDetail,i=a.passCodeStatus,r=a.getQuan,o=a.getQuanList;e.setState({userInfo:t},function(){return o?e.getCoupothis():r?e.getQuan():void(l.isActivity?3===i.userPassCodeStatus?e.props.dispatch({type:"detail/GetPassCodeStatus",payload:{productId:l.productId}}).then(function(){e.GetPassCode()}):e.props.dispatch({type:"detail/GetPassCodeStatus",payload:{productId:l.productId}}):e.toPay(n))})},this.getPassCodeStatus=function(){var t=e.state,a=t.goodsDetail;t.shopInfo;e.props.dispatch({type:"detail/GetPassCodeStatus",payload:{productId:a.productId}})},this.onRef=function(t){e.child=t},this.GetPassCode=function(){var t=e.state,a=t.goodsDetail;t.shopInfo;e.setState({isLoading:!0}),e.props.dispatch({type:"detail/GetPassCode",payload:{productId:a.productId}})},this.settime=function(t,a,n){e.setState({countNum:t},function(){var t=e;t.clearTimeInterval(),e.xInteval=setInterval(function(){var e=t.state.countNum;0===(e-=1)&&(t.clearTimeInterval(),t.init()),e>0&&t.setState((0,r.default)({countNum:e},a,n?L.default.secondToDate1(e):L.default.secondToDate(e)))},1e3)})},this.clearTimeInterval=function(){e.xInteval&&(clearInterval(e.xInteval),e.xInteval=null)},this.isAlipayOrWechat=function(){var e=navigator.userAgent.toLowerCase();return"alipay"==e.match(/Alipay/i)?1:"micromessenger"==e.match(/MicroMessenger/i)?2:3},this.init=function(){var t=e.state.postData;e.props.dispatch({type:"detail/getGoodsList",payload:t})},this.changeNum=function(t,a){e.setState({ChargeNum:t[0]})},this.choseGoods=function(t){var a=e.state,n=a.typeDetail,l=a.goodsDetail;a.userInfo;t.isActivity&&(window.location.href="/detail?gid="+n.childCategoryId+"&pid="+t.productId),n.productList&&n.productList[0]&&n.productList.map(function(e,a){e.active=!1,e.productId===t.productId&&(e.active=!0,l=n.productList[a])}),e.setState({typeDetail:n,goodsDetail:l,ChargeNum:"1"},function(){var t=e.state.goodsDetail;t.startSecound&&e.settime(t.startSecound,"startSecound",0),t.surplusTime&&e.settime(t.surplusTime,"surplusTime",1),t.isActivity&&e.getPassCodeStatus(),e.props.dispatch({type:"detail/getMid",payload:{toOrderMid:Math.random()}}),e.getCoupothis()})},this.authorizationFailure=function(){var t=e.state.userInfo;t.fuluToken="",localStorage.setItem("userInfo",(0,m.default)(t)),e.setState({userInfo:t},function(){(0,P.isLoginOrAuth)(e)})},this.toPay=function(t){t&&e.setState({formData:t});var a=(0,P.isLoginOrAuth)(e);a&&e.sendOrder(t)},this.sendOrder=function(t){var a=e.state,n=a.typeDetail,l=a.goodsDetail,r=a.ChargeNum,o=a.shopInfo,s=a.extractCode;if(o.codeKey.toLowerCase()===(configs.chinaBank?configs.chinaBank.toLowerCase():"")&&l.isActivity&&"46405"!==localStorage.getItem("ibknum"))return e.setState({chinaBankModal:!0}),!1;if("直充"===n.productType&&t.ChargeNum>l.singlePurchaseLimit)return p.default.info("购买数量不能大于"+l.singlePurchaseLimit);var u={productId:l.productId,buyNum:l.isActivity?1:"直充"===n.productType?Number(t.ChargeNum):Number(r),salePrice:l.price,childCategoryId:n.childCategoryId};if("卡密"===n.productType){if(o.codeKey.toLowerCase()!==(configs.xiaomi?configs.xiaomi.toLowerCase():"")){if(!s)return p.default.info("提取码不能为空！");if(s&&!/^\d{6}$/.test(s))return p.default.info("提取码由6位数字组成")}(0,i.default)(u,{extractCode:o.codeKey.toLowerCase()!==(configs.xiaomi?configs.xiaomi.toLowerCase():"")?s:"123456"}),e.props.dispatch({type:"detail/sendCardOrder",payload:u})}else if("直充"===n.productType){if((0,i.default)(u,{chargeAccount:t.ChargeAccount,chargePassword:t.ChargePWD,chargeGameName:t.ChargeGame,chargeGameRegion:t.ChargeRegion,chargeGameSrv:t.ChargeServer,contactTel:t.ContactType,contactQq:t.ContactQQ,chargeType:t.ChargeType}),!u.chargeAccount)return p.default.info("充值账号不能为空");e.props.dispatch({type:"detail/sendOrder",payload:u})}},this.toUrl=function(t){e.props.history.push(t)},this.onChange=function(t){6!==t.replace(/\s/g,"").length?e.setState({hasError:!0}):e.setState({hasError:!1}),e.setState({extractCode:t})},this.toOrderSure=function(t){var a=e.state,n=a.userInfo,l=a.shopInfo;window.location.href=configs.commonUrl+"/orderSure?oid="+t+"&codeKey="+l.codeKey+"&fuluToken="+n.fuluToken+"&fuluId="+n.fuluId},this.chinamodalCancel=function(){e.setState({chinaBankModal:!1})},this.hideLoginModal=function(){e.setState({showMallLoginModal:!1})},this.blurInput=function(){document.documentElement.scrollTop=document.documentElement.scrollTop},this.showquanList=function(){e.setState({showquanList:!0})},this.hidequanList=function(){e.setState({showquanList:!1})},this.getQuan=function(t){e.setState({quanId:t,getQuan:!0},function(){var t=(0,P.isLoginOrAuth)(e);t&&e.getCouponFn()})},this.getCouponFn=function(){var t=e.state.quanId;e.props.dispatch({type:"coupons/ObtainCard",payload:{merCouponActivityId:t}})},this.jumpTo=function(t){1==t.jumpType?e.toUrl("/"):2==t.jumpType?e.toUrl("/couponPage?cardId="+t.couponCode+"&reachedAmount="+t.fullPrice+"&reduceAmount="+t.price):3==t.jumpType?window.location.href="/detail?gid="+t.proClassId+(t.productId?"&pid="+t.productId:""):4==t.jumpType&&(window.location.href=t.jumpUrl)}},n);t.default=(0,E.connect)(function(e){return(0,f.default)({},e)})((0,N.createForm)()(_))},P6eb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=h(a("QbLZ")),l=h(a("iCc5")),i=h(a("V7oC")),r=h(a("FYw3")),o=h(a("mRg0"));t.getDefaultProps=function(){return{triggerType:"onClick",prefixCls:"am-picker",pickerPrefixCls:"am-picker-col",popupPrefixCls:"am-picker-popup",format:function(e){return e.join(",")},cols:3,cascade:!0,title:""}};var s=h(a("uK0f")),u=h(a("q1tI")),c=h(a("5o2e")),d=h(a("W482")),f=h(a("saW0")),p=h(a("+oAO")),m=a("FMsn");function h(e){return e&&e.__esModule?e:{default:e}}var g=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&(a[n[l]]=e[n[l]])}return a};var v=function(e){function t(){(0,l.default)(this,t);var e=(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.getSel=function(){var t=e.props.value||[],a=void 0,n=e.props.data;return a=e.props.cascade?(0,s.default)(n,function(e,a){return e.value===t[a]}):t.map(function(e,t){return n[t].filter(function(t){return t.value===e})[0]}),e.props.format&&e.props.format(a.map(function(e){return e.label}))},e.getPickerCol=function(){var t=e.props,a=t.data,n=t.pickerPrefixCls,l=t.itemStyle,i=t.indicatorStyle;return a.map(function(e,t){return u.default.createElement(p.default,{key:t,prefixCls:n,style:{flex:1},itemStyle:l,indicatorStyle:i},e.map(function(e){return u.default.createElement(p.default.Item,{key:e.value,value:e.value},e.label)}))})},e.onOk=function(t){void 0!==e.scrollValue&&(t=e.scrollValue),e.props.onChange&&e.props.onChange(t),e.props.onOk&&e.props.onOk(t)},e.setScrollValue=function(t){e.scrollValue=t},e.setCasecadeScrollValue=function(t){if(t&&e.scrollValue){var a=e.scrollValue.length;if(a===t.length&&e.scrollValue[a-1]===t[a-1])return}e.setScrollValue(t)},e.fixOnOk=function(t){t&&t.onOk!==e.onOk&&(t.onOk=e.onOk,t.forceUpdate())},e.onPickerChange=function(t){e.setScrollValue(t),e.props.onPickerChange&&e.props.onPickerChange(t)},e.onVisibleChange=function(t){e.setScrollValue(void 0),e.props.onVisibleChange&&e.props.onVisibleChange(t)},e}return(0,o.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,l=e.value,i=void 0===l?[]:l,r=e.popupPrefixCls,o=e.itemStyle,s=e.indicatorStyle,p=e.okText,h=e.dismissText,v=e.extra,C=e.cascade,y=e.prefixCls,b=e.pickerPrefixCls,S=e.data,E=e.cols,k=(e.onOk,g(e,["children","value","popupPrefixCls","itemStyle","indicatorStyle","okText","dismissText","extra","cascade","prefixCls","pickerPrefixCls","data","cols","onOk"])),N=(0,m.getComponentLocale)(this.props,this.context,"Picker",function(){return a("EdU1")}),P=void 0,I={};return C?P=u.default.createElement(c.default,{prefixCls:y,pickerPrefixCls:b,data:S,cols:E,onChange:this.onPickerChange,onScrollChange:this.setCasecadeScrollValue,pickerItemStyle:o,indicatorStyle:s}):(P=u.default.createElement(f.default,{style:{flexDirection:"row",alignItems:"center"},prefixCls:y,onScrollChange:this.setScrollValue},this.getPickerCol()),I={pickerValueProp:"selectedValue",pickerValueChangeProp:"onValueChange"}),u.default.createElement(d.default,(0,n.default)({cascader:P},this.popupProps,k,{prefixCls:r,value:i,dismissText:h||N.dismissText,okText:p||N.okText},I,{ref:this.fixOnOk,onVisibleChange:this.onVisibleChange}),t&&"string"!=typeof t&&u.default.isValidElement(t)&&u.default.cloneElement(t,{extra:this.getSel()||v||N.extra}))}}]),t}(u.default.Component);t.default=v},Pk57:function(e,t,a){},QldD:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,l=a("Omam"),i=(n=l)&&n.__esModule?n:{default:n};t.default=i.default},"U++l":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a("QbLZ")),l=u(a("iCc5")),i=u(a("V7oC")),r=u(a("FYw3")),o=u(a("mRg0"));t.default=function(e){return(t=function(t){function a(){(0,l.default)(this,a);var e=(0,r.default)(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments));return e.getValue=function(){var t=e.props,a=t.children,n=t.selectedValue;return n&&n.length?n:a?s.default.Children.map(a,function(e){var t=s.default.Children.toArray(e.children||e.props.children);return t&&t[0]&&t[0].props.value}):[]},e.onChange=function(t,a,n){var l=e.getValue().concat();l[t]=a,n&&n(l,t)},e.onValueChange=function(t,a){e.onChange(t,a,e.props.onValueChange)},e.onScrollChange=function(t,a){e.onChange(t,a,e.props.onScrollChange)},e}return(0,o.default)(a,t),(0,i.default)(a,[{key:"render",value:function(){return s.default.createElement(e,(0,n.default)({},this.props,{getValue:this.getValue,onValueChange:this.onValueChange,onScrollChange:this.props.onScrollChange&&this.onScrollChange}))}}]),a}(s.default.Component)).defaultProps={prefixCls:"rmc-multi-picker",onValueChange:function(){}},t;var t};var s=u(a("q1tI"));function u(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},W482:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a("QbLZ")),l=c(a("iCc5")),i=c(a("V7oC")),r=c(a("FYw3")),o=c(a("mRg0")),s=c(a("q1tI")),u=c(a("NTF0"));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){(0,l.default)(this,t);var e=(0,r.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onOk=function(t){var a=e.props,n=a.onChange,l=a.onOk;n&&n(t),l&&l(t)},e}return(0,o.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){return s.default.createElement(u.default,(0,n.default)({picker:this.props.cascader},this.props,{onOk:this.onOk}))}}]),t}(s.default.Component);d.defaultProps={pickerValueProp:"value",pickerValueChangeProp:"onChange"},t.default=d,e.exports=t.default},ca75:function(e,t,a){"use strict";a("v0ko"),a("AoRI")},of8z:function(e,t,a){"use strict";a("tgmD"),a("Kr0c")},ra3W:function(e,t,a){},saW0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a("QbLZ")),l=o(a("q1tI")),i=o(a("TSYQ")),r=o(a("U++l"));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)(function(e){var t=e.prefixCls,a=e.className,r=e.rootNativeProps,o=e.children,s=e.style,u=e.getValue(),c=l.default.Children.map(o,function(t,a){return l.default.cloneElement(t,{selectedValue:u[a],onValueChange:function(){for(var t=arguments.length,n=Array(t),l=0;l<t;l++)n[l]=arguments[l];return e.onValueChange.apply(e,[a].concat(n))},onScrollChange:e.onScrollChange&&function(){for(var t=arguments.length,n=Array(t),l=0;l<t;l++)n[l]=arguments[l];return e.onScrollChange.apply(e,[a].concat(n))}})});return l.default.createElement("div",(0,n.default)({},r,{style:s,className:(0,i.default)(a,t)}),c)}),e.exports=t.default},tgmD:function(e,t,a){"use strict";a("v0ko"),a("ra3W")},uK0f:function(e,t,a){e.exports=function(){"use strict";return function(e,t,a){(a=a||{}).childrenKeyName=a.childrenKeyName||"children";var n=e||[],l=[],i=0;do{var r=n.filter(function(e){return t(e,i)})[0];if(!r)break;l.push(r),n=r[a.childrenKeyName]||[],i+=1}while(n.length>0);return l}}()}}]);